'use strict';

var deepmerge = require('../deepmerge.cjs');

function excludeParentKeys(dictionary, transformOpts) {
    if (!transformOpts?.excludeParentKeys) {
        return dictionary;
    }
    const copy = {};
    Object.values(dictionary).forEach(set => {
        Object.entries(set).forEach(([key, tokenGroup]) => {
            if (copy[key]) {
                copy[key] = deepmerge(copy[key], tokenGroup);
            }
            else {
                copy[key] = tokenGroup;
            }
        });
    });
    return copy;
}

exports.excludeParentKeys = excludeParentKeys;
